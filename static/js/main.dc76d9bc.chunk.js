(this["webpackJsonpreact-cmd-palette"]=this["webpackJsonpreact-cmd-palette"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},28:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),o=n(16),i=n.n(o),a=(n(23),n(3)),l=n(4),s=n(11);function u(){}var d,j,b=Object(c.createContext)({actions:[],addAction:u,removeAction:u,show:u,hide:u,toggle:u,shown:!1}),f=n(18),h=(n(24),n(7));function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},o=Object.keys(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v(e,t){var n=e.title,r=e.titleId,o=m(e,["title","titleId"]);return c.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-up-right",ref:t,"aria-labelledby":r},o),n?c.createElement("title",{id:r},n):null,d||(d=c.createElement("line",{x1:7,y1:17,x2:17,y2:7})),j||(j=c.createElement("polyline",{points:"7 7 17 7 17 17"})))}var p=c.forwardRef(v),x=(n.p,n(1)),g={keys:["title"]},y=function(e){var t=e.children,n=e.InputProps,r=e.FuseOptions,o=Object(c.useState)([]),i=Object(s.a)(o,2),u=i[0],d=i[1],j=Object(c.useState)(!1),O=Object(s.a)(j,2),m=O[0],v=O[1],y=Object(c.useState)(void 0),k=Object(s.a)(y,2),w=k[0],C=k[1],E=Object(c.useRef)(null),P=Object(c.useRef)([]);Object(c.useEffect)((function(){P.current=P.current.slice(0,u.length)}),[u]);var I=Object(c.useCallback)((function(e){return d((function(t){if(t.find((function(t){return t.id===e.id})))throw Error("This action already has been added. Did you forget to remove this action with removeAction beforehand?");return[].concat(Object(l.a)(t),[e])}))}),[]),N=Object(c.useCallback)((function(e){return d((function(t){return t.filter((function(t){return t.id!==e.id}))}))}),[]),S=function(){return v(!1)},A=Object(c.useMemo)((function(){return Object(a.a)(Object(a.a)({},g),r)}),[r]),T=Object(c.useMemo)((function(){if(!w)return u;console.time("fuse");var e=new f.a(u,A).search(w),t=e.sort((function(e,t){var n,c;return(null!==(n=e.score)&&void 0!==n?n:0)-(null!==(c=t.score)&&void 0!==c?c:0)})).map((function(e){return e.item}));return console.log("fuse results",e),console.timeEnd("fuse"),t}),[u,w,A]);return Object(h.a)("escape",Object(c.useCallback)((function(e){m&&S()}),[m]),{enableOnTags:["INPUT"]}),Object(h.a)("up",Object(c.useCallback)((function(e){var t,n,c,r,o,i;if(m){e.preventDefault();var a=null===(t=document.activeElement)||void 0===t?void 0:t.previousElementSibling;a||document.activeElement!==(null===(n=P.current)||void 0===n?void 0:n[0])?a?a.focus():null===(r=P.current)||void 0===r||null===(o=r[(null===(i=P.current)||void 0===i?void 0:i.length)-1])||void 0===o||o.focus():null===(c=E.current)||void 0===c||c.focus()}}),[m]),{enableOnTags:["INPUT"]}),Object(h.a)("down",Object(c.useCallback)((function(e){var t,n,c,r;if(m){e.preventDefault();var o=null===(t=document.activeElement)||void 0===t?void 0:t.nextElementSibling;o?-1===o.tabIndex?null===(c=P.current)||void 0===c||null===(r=c[0])||void 0===r||r.focus():o.focus():null===(n=E.current)||void 0===n||n.focus()}}),[m]),{enableOnTags:["INPUT"]}),Object(x.jsxs)(b.Provider,{value:{actions:u,addAction:I,removeAction:N,show:function(){return v(!0)},hide:S,toggle:function(){return v((function(e){return!e}))},shown:m},children:[t,m&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"command-palette--overlay",onClick:S}),Object(x.jsxs)("div",{className:"command-palette",children:[Object(x.jsxs)("header",{className:"command-palette--header",children:[Object(x.jsx)("input",Object(a.a)(Object(a.a)({type:"search"},n),{},{onInput:function(e){var t;t=e.currentTarget.value,C(t)},ref:E,autoFocus:!0})),Object(x.jsxs)("div",{className:"command-palette--header--help",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("kbd",{children:"\u2191\u2193"})," or ",Object(x.jsx)("kbd",{children:"tab"})," to navigate"]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("kbd",{children:"enter"})," or ",Object(x.jsx)("kbd",{children:"click"})," to select"]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("kbd",{children:"esc"})," to close"]})]})]}),Object(x.jsx)("section",{className:"command-palette--results",tabIndex:-1,children:T.map((function(e,t){return Object(x.jsxs)("div",{tabIndex:0,ref:function(e){return P.current[t]=e},onKeyDown:function(t){var n;if("Enter"===t.key)return null===(n=e.onSelect)||void 0===n?void 0:n.call(e)},className:"command-palette--results-result",onClick:e.onSelect,children:[e.leading&&Object(x.jsx)("div",{children:e.leading}),Object(x.jsx)("h6",{className:"command-palette--results-result-title",children:e.title}),Object(x.jsx)("div",{className:"trailing",children:Object(x.jsx)(p,{width:18})})]},e.id)}))})]})]})]})},k=n(2),w=function(){var e=Object(k.g)(),t=Object(c.useContext)(b),n=t.addAction,r=t.removeAction,o=t.show,i=Object(c.useMemo)((function(){return{id:1,title:"Visit keyboard shortcut demo",onSelect:function(){return e("/keyboard-shortcut")}}}),[e]);return Object(c.useEffect)((function(){return n(i),function(){r(i)}}),[n,r,i]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{children:"This is a basic example of the Command Palette"}),Object(x.jsx)("button",{onClick:o,children:"Open command palette"})]})},C=n(6),E=(n(28),function(){var e=Object(c.useContext)(b).show;return Object(x.jsx)("header",{children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("div",{className:"logo",children:Object(x.jsx)("code",{children:"react-cmd-palette"})}),Object(x.jsx)("input",{type:"search",placeholder:"What are you searching for?",onFocus:e}),Object(x.jsxs)("nav",{children:[Object(x.jsx)(C.b,{to:"/basic",children:"Basic example"}),Object(x.jsx)(C.b,{to:"/keyboard-shortcut",children:"Keyboard shortcut"}),Object(x.jsx)(C.b,{to:"/a-lot-of-actions",children:"A lot of actions"})]})]})})}),P={id:"back",title:"Go back"},I=function(){var e=Object(c.useContext)(b),t=e.addAction,n=e.removeAction,r=e.toggle;return Object(h.a)("ctrl+p",(function(e){e.preventDefault(),r()}),{}),Object(c.useEffect)((function(){return t(P),function(){n(P)}}),[t,n]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("p",{children:"Toggle the command palette by pressing CTRL + P"})})},N=new(n(17).LoremIpsum)({sentencesPerParagraph:{max:8,min:4},wordsPerSentence:{max:16,min:4}}),S=Array.from({length:50},(function(e,t){return{id:t,title:N.generateSentences(1),onSelect:function(){alert("You selected action #"+t)}}})),A=function(){var e=Object(c.useContext)(b),t=e.addAction,n=e.removeAction,r=e.show;return Object(c.useEffect)((function(){return S.forEach((function(e){return t(e)})),function(){S.forEach((function(e){return n(e)}))}}),[t,n]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("p",{children:Object(x.jsx)("button",{onClick:r,children:"Open the command palette"})})})};var T=function(){return Object(x.jsx)(y,{InputProps:{placeholder:"What are you searching for?"},children:Object(x.jsxs)(C.a,{children:[Object(x.jsx)(E,{}),Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)(k.c,{children:[Object(x.jsx)(k.a,{path:"/basic",element:Object(x.jsx)(w,{})}),Object(x.jsx)(k.a,{path:"/keyboard-shortcut",element:Object(x.jsx)(I,{})}),Object(x.jsx)(k.a,{path:"/a-lot-of-actions",element:Object(x.jsx)(A,{})})]})})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),o(e),i(e)}))};i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(T,{})}),document.getElementById("root")),F()}},[[41,1,2]]]);
//# sourceMappingURL=main.dc76d9bc.chunk.js.map