(this["webpackJsonpreact-cmd-palette"]=this["webpackJsonpreact-cmd-palette"]||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(80),o=n.n(i),a=(n(88),n(25)),l=n(27),s=n(70);function u(){}var d,j,b=Object(c.createContext)({actions:[],addAction:u,removeAction:u,show:u,hide:u,toggle:u,shown:!1}),h=n(82),f=(n(89),n(52));function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},i=Object.keys(e);for(c=0;c<i.length;c++)n=i[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(c=0;c<i.length;c++)n=i[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p(e,t){var n=e.title,r=e.titleId,i=m(e,["title","titleId"]);return c.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-up-right",ref:t,"aria-labelledby":r},i),n?c.createElement("title",{id:r},n):null,d||(d=c.createElement("line",{x1:7,y1:17,x2:17,y2:7})),j||(j=c.createElement("polyline",{points:"7 7 17 7 17 17"})))}var v=c.forwardRef(p),x=(n.p,n(110)),g=n(108),y=n(2),k={keys:["title"]},w=function(e){var t=e.children,n=e.InputProps,r=e.FuseOptions,i=Object(c.useState)([]),o=Object(s.a)(i,2),u=o[0],d=o[1],j=Object(c.useState)(!1),O=Object(s.a)(j,2),m=O[0],p=O[1],w=Object(c.useState)(void 0),C=Object(s.a)(w,2),E=C[0],I=C[1],N=Object(c.useRef)(null),P=Object(c.useRef)([]);Object(c.useEffect)((function(){P.current=P.current.slice(0,u.length)}),[u]);var S=Object(c.useCallback)((function(e){return d((function(t){if(t.find((function(t){return t.id===e.id})))throw Error("This action already has been added. Did you forget to remove this action with removeAction beforehand?");return[].concat(Object(l.a)(t),[e])}))}),[]),A=Object(c.useCallback)((function(e){return d((function(t){return t.filter((function(t){return t.id!==e.id}))}))}),[]),T=function(){return p(!1)},F=Object(c.useMemo)((function(){return Object(a.a)(Object(a.a)({},k),r)}),[r]),D=Object(c.useMemo)((function(){if(!E)return u;console.time("fuse");var e=new h.a(u,F).search(E),t=e.sort((function(e,t){var n,c;return(null!==(n=e.score)&&void 0!==n?n:0)-(null!==(c=t.score)&&void 0!==c?c:0)})).map((function(e){return e.item}));return console.log("fuse results",e),console.timeEnd("fuse"),t}),[u,E,F]);return Object(f.a)("escape",Object(c.useCallback)((function(e){m&&T()}),[m]),{enableOnTags:["INPUT"]}),Object(f.a)("up",Object(c.useCallback)((function(e){var t,n,c,r,i,o;if(m){e.preventDefault();var a=null===(t=document.activeElement)||void 0===t?void 0:t.previousElementSibling;a||document.activeElement!==(null===(n=P.current)||void 0===n?void 0:n[0])?a?a.focus():null===(r=P.current)||void 0===r||null===(i=r[(null===(o=P.current)||void 0===o?void 0:o.length)-1])||void 0===i||i.focus():null===(c=N.current)||void 0===c||c.focus()}}),[m]),{enableOnTags:["INPUT"]}),Object(f.a)("down",Object(c.useCallback)((function(e){var t,n,c,r;if(m){e.preventDefault();var i=null===(t=document.activeElement)||void 0===t?void 0:t.nextElementSibling;i?-1===i.tabIndex?null===(c=P.current)||void 0===c||null===(r=c[0])||void 0===r||r.focus():i.focus():null===(n=N.current)||void 0===n||n.focus()}}),[m]),{enableOnTags:["INPUT"]}),Object(y.jsxs)(b.Provider,{value:{actions:u,addAction:S,removeAction:A,show:function(){return p(!0)},hide:T,toggle:function(){return p((function(e){return!e}))},shown:m},children:[t,Object(y.jsx)(x.a,{children:m&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(g.a.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}},className:"command-palette--overlay",onClick:T}),Object(y.jsxs)(g.a.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}},className:"command-palette",children:[Object(y.jsxs)("header",{className:"command-palette--header",children:[Object(y.jsx)(g.a.input,Object(a.a)(Object(a.a)({layoutId:"command-palette-input",type:"search"},n),{},{onInput:function(e){var t;t=e.currentTarget.value,I(t)},ref:N,autoFocus:!0})),Object(y.jsxs)("div",{className:"command-palette--header--help",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("kbd",{children:"\u2191\u2193"})," or ",Object(y.jsx)("kbd",{children:"tab"})," to navigate"]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("kbd",{children:"enter"})," or ",Object(y.jsx)("kbd",{children:"click"})," to select"]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("kbd",{children:"esc"})," to close"]})]})]}),Object(y.jsx)("section",{className:"command-palette--results",tabIndex:-1,children:D.map((function(e,t){return Object(y.jsxs)("div",{tabIndex:0,ref:function(e){return P.current[t]=e},onKeyDown:function(t){var n;if("Enter"===t.key)return null===(n=e.onSelect)||void 0===n?void 0:n.call(e)},className:"command-palette--results-result",onClick:e.onSelect,children:[e.leading&&Object(y.jsx)("div",{children:e.leading}),Object(y.jsx)("h6",{className:"command-palette--results-result-title",children:e.title}),Object(y.jsx)("div",{className:"trailing",children:Object(y.jsx)(v,{width:18})})]},e.id)}))})]})]})})]})},C=n(4),E=function(){var e=Object(C.g)(),t=Object(c.useContext)(b),n=t.addAction,r=t.removeAction,i=t.show,o=Object(c.useMemo)((function(){return{id:1,title:"Visit keyboard shortcut demo",onSelect:function(){return e("/keyboard-shortcut")}}}),[e]);return Object(c.useEffect)((function(){return n(o),function(){r(o)}}),[n,r,o]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("p",{children:"This is a basic example of the Command Palette"}),Object(y.jsx)("button",{onClick:i,children:"Open command palette"})]})},I=n(42),N=(n(93),function(){var e=Object(c.useContext)(b).show;return Object(y.jsx)("header",{children:Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("div",{className:"logo",children:Object(y.jsx)("code",{children:"react-cmd-palette"})}),Object(y.jsxs)("div",{className:"input",children:[Object(y.jsx)(g.a.input,{layoutId:"command-palette-input",type:"search",placeholder:"What are you searching for?",onFocus:e}),Object(y.jsx)("h6",{children:"\u2b06\ufe0f \u2b06\ufe0f \u2b06\ufe0f \u2b06\ufe0f Click here to toggle the command palette"})]}),Object(y.jsxs)("nav",{children:[Object(y.jsx)(I.b,{to:"/basic",children:"Basic example"}),Object(y.jsx)(I.b,{to:"/keyboard-shortcut",children:"Keyboard shortcut"}),Object(y.jsx)(I.b,{to:"/a-lot-of-actions",children:"A lot of actions"})]})]})})}),P={id:"back",title:"Go back"},S=function(){var e=Object(c.useContext)(b),t=e.addAction,n=e.removeAction,r=e.toggle;return Object(f.a)("ctrl+p",(function(e){e.preventDefault(),r()}),{}),Object(c.useEffect)((function(){return t(P),function(){n(P)}}),[t,n]),Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("p",{children:["Toggle the command palette by pressing ",Object(y.jsx)("kbd",{children:"CTRL"})," + ",Object(y.jsx)("kbd",{children:"P"})]})})},A=new(n(81).LoremIpsum)({sentencesPerParagraph:{max:8,min:4},wordsPerSentence:{max:16,min:4}}),T=Array.from({length:50},(function(e,t){return{id:t,title:A.generateSentences(1),onSelect:function(){alert("You selected action #"+t)}}})),F=function(){var e=Object(c.useContext)(b),t=e.addAction,n=e.removeAction,r=e.show;return Object(c.useEffect)((function(){return T.forEach((function(e){return t(e)})),function(){T.forEach((function(e){return n(e)}))}}),[t,n]),Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("p",{children:Object(y.jsx)("button",{onClick:r,children:"Open the command palette"})})})},D=n(109);var L=function(){return Object(y.jsx)(D.a,{type:"crossfade",children:Object(y.jsx)(w,{InputProps:{placeholder:"What are you searching for?"},children:Object(y.jsxs)(I.a,{children:[Object(y.jsx)(N,{}),Object(y.jsx)("div",{className:"container",children:Object(y.jsxs)(C.c,{children:[Object(y.jsx)(C.a,{path:"/basic",element:Object(y.jsx)(E,{})}),Object(y.jsx)(C.a,{path:"/keyboard-shortcut",element:Object(y.jsx)(S,{})}),Object(y.jsx)(C.a,{path:"/a-lot-of-actions",element:Object(y.jsx)(F,{})})]})})]})})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,111)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),i(e),o(e)}))};o.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(L,{})}),document.getElementById("root")),B()},88:function(e,t,n){},89:function(e,t,n){},93:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.0892a397.chunk.js.map