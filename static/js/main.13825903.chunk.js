(this["webpackJsonpreact-cmd-palette"]=this["webpackJsonpreact-cmd-palette"]||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),o=n(80),i=n.n(o),a=(n(88),n(25)),l=n(27),s=n(70);function u(){}var d,j,b=Object(c.createContext)({actions:[],addAction:u,removeAction:u,show:u,hide:u,toggle:u,shown:!1}),h=n(82),f=(n(89),n(52));function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},o=Object.keys(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p(e,t){var n=e.title,r=e.titleId,o=m(e,["title","titleId"]);return c.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-up-right",ref:t,"aria-labelledby":r},o),n?c.createElement("title",{id:r},n):null,d||(d=c.createElement("line",{x1:7,y1:17,x2:17,y2:7})),j||(j=c.createElement("polyline",{points:"7 7 17 7 17 17"})))}var v,x,g,y,w=c.forwardRef(p),k=(n.p,n(111)),E=n(109);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},o=Object.keys(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N(e,t){var n=e.title,r=e.titleId,o=I(e,["title","titleId"]);return c.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-meh",ref:t,"aria-labelledby":r},o),n?c.createElement("title",{id:r},n):null,v||(v=c.createElement("circle",{cx:12,cy:12,r:10})),x||(x=c.createElement("line",{x1:8,y1:15,x2:16,y2:15})),g||(g=c.createElement("line",{x1:9,y1:9,x2:9.01,y2:9})),y||(y=c.createElement("line",{x1:15,y1:9,x2:15.01,y2:9})))}var P=c.forwardRef(N),S=(n.p,n(90),n(2)),T=function(){return Object(S.jsxs)("div",{className:"command-palette--no-results--container",children:[Object(S.jsx)(P,{width:32,height:32}),Object(S.jsx)("p",{children:"There are no actions to see here."})]})},A={keys:["title"],includeScore:!0,includeMatches:!0,threshold:.2},F=function(e){var t=e.children,n=e.renderOnNoResults,r=void 0===n?Object(S.jsx)(T,{}):n,o=e.InputProps,i=e.FuseOptions,u=Object(c.useState)([]),d=Object(s.a)(u,2),j=d[0],O=d[1],m=Object(c.useState)(!1),p=Object(s.a)(m,2),v=p[0],x=p[1],g=Object(c.useState)(void 0),y=Object(s.a)(g,2),C=y[0],I=y[1],N=Object(c.useRef)(null),P=Object(c.useRef)([]);Object(c.useEffect)((function(){P.current=P.current.slice(0,j.length)}),[j]);var F=Object(c.useCallback)((function(e){return O((function(t){if(t.find((function(t){return t.id===e.id})))throw Error("This action already has been added. Did you forget to remove this action with removeAction beforehand?");return[].concat(Object(l.a)(t),[e])}))}),[]),L=Object(c.useCallback)((function(e){return O((function(t){return t.filter((function(t){return t.id!==e.id}))}))}),[]),D=function(){return x(!1)},R=Object(c.useMemo)((function(){return Object(a.a)(Object(a.a)({},A),i)}),[i]),B=Object(c.useMemo)((function(){var e;if(!C)return j;console.time("fuse");var t=new h.a(j,R).search(C),n=t.sort((function(e,t){var n,c;return(null!==(n=e.score)&&void 0!==n?n:0)-(null!==(c=t.score)&&void 0!==c?c:0)})).map((function(e){return e.item}));return console.log("fuse results",t),console.log("fuse matches",null===t||void 0===t||null===(e=t[0])||void 0===e?void 0:e.matches),console.timeEnd("fuse"),n}),[j,C,R]);return Object(f.a)("escape",Object(c.useCallback)((function(e){v&&D()}),[v]),{enableOnTags:["INPUT"]}),Object(f.a)("up",Object(c.useCallback)((function(e){var t,n,c,r,o,i;if(v){e.preventDefault();var a=null===(t=document.activeElement)||void 0===t?void 0:t.previousElementSibling;a||document.activeElement!==(null===(n=P.current)||void 0===n?void 0:n[0])?a?a.focus():null===(r=P.current)||void 0===r||null===(o=r[(null===(i=P.current)||void 0===i?void 0:i.length)-1])||void 0===o||o.focus():null===(c=N.current)||void 0===c||c.focus()}}),[v]),{enableOnTags:["INPUT"]}),Object(f.a)("down",Object(c.useCallback)((function(e){var t,n,c,r;if(v){e.preventDefault();var o=null===(t=document.activeElement)||void 0===t?void 0:t.nextElementSibling;o?-1===o.tabIndex?null===(c=P.current)||void 0===c||null===(r=c[0])||void 0===r||r.focus():o.focus():null===(n=N.current)||void 0===n||n.focus()}}),[v]),{enableOnTags:["INPUT"]}),Object(S.jsxs)(b.Provider,{value:{actions:j,addAction:F,removeAction:L,show:function(){return x(!0)},hide:D,toggle:function(){return x((function(e){return!e}))},shown:v},children:[t,Object(S.jsx)(k.a,{children:v&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(E.a.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}},className:"command-palette--overlay",onClick:D}),Object(S.jsxs)(E.a.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}},className:"command-palette",children:[Object(S.jsxs)("header",{className:"command-palette--header",children:[Object(S.jsx)(E.a.input,Object(a.a)(Object(a.a)({layoutId:"command-palette-input",type:"search"},o),{},{onInput:function(e){var t;t=e.currentTarget.value,I(t)},ref:N,autoFocus:!0})),Object(S.jsxs)("div",{className:"command-palette--header--help",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("kbd",{children:"\u2191\u2193"})," or ",Object(S.jsx)("kbd",{children:"tab"})," to navigate"]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("kbd",{children:"enter"})," or ",Object(S.jsx)("kbd",{children:"click"})," to select"]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("kbd",{children:"esc"})," to close"]})]})]}),Object(S.jsx)("section",{className:"command-palette--results",tabIndex:-1,children:B.length>0?B.map((function(e,t){return Object(S.jsxs)("div",{tabIndex:0,ref:function(e){return P.current[t]=e},onKeyDown:function(t){var n;if("Enter"===t.key)return null===(n=e.onSelect)||void 0===n?void 0:n.call(e)},className:"command-palette--results-result",onClick:e.onSelect,children:[e.leading&&Object(S.jsx)("div",{children:e.leading}),Object(S.jsx)("p",{className:"command-palette--results-result-title",children:e.title}),Object(S.jsx)("div",{className:"trailing",children:Object(S.jsx)(w,{width:18})})]},e.id)})):r})]})]})})]})},L=n(4),D=function(){var e=Object(L.g)(),t=Object(c.useContext)(b),n=t.addAction,r=t.removeAction,o=t.show,i=Object(c.useMemo)((function(){return{id:1,title:"Visit keyboard shortcut demo",onSelect:function(){return e("/keyboard-shortcut")}}}),[e]);return Object(c.useEffect)((function(){return n(i),function(){r(i)}}),[n,r,i]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("p",{children:"This is a basic example of the Command Palette"}),Object(S.jsx)("button",{onClick:o,children:"Open command palette"})]})},R=n(42),B=(n(94),function(){var e=Object(c.useContext)(b).show;return Object(S.jsx)("header",{children:Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("div",{className:"logo",children:Object(S.jsx)("code",{children:"react-cmd-palette"})}),Object(S.jsxs)("div",{className:"input",children:[Object(S.jsx)(E.a.input,{layoutId:"command-palette-input",type:"search",placeholder:"What are you searching for?",onFocus:e}),Object(S.jsx)("h6",{children:"\u2b06\ufe0f \u2b06\ufe0f \u2b06\ufe0f \u2b06\ufe0f Click here to toggle the command palette"})]}),Object(S.jsxs)("nav",{children:[Object(S.jsx)(R.b,{to:"/basic",children:"Basic example"}),Object(S.jsx)(R.b,{to:"/keyboard-shortcut",children:"Keyboard shortcut"}),Object(S.jsx)(R.b,{to:"/a-lot-of-actions",children:"A lot of actions"})]})]})})}),M={id:"back",title:"Go back"},W=function(){var e=Object(c.useContext)(b),t=e.addAction,n=e.removeAction,r=e.toggle;return Object(f.a)("ctrl+p",(function(e){e.preventDefault(),r()}),{}),Object(c.useEffect)((function(){return t(M),function(){n(M)}}),[t,n]),Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("p",{children:["Toggle the command palette by pressing ",Object(S.jsx)("kbd",{children:"CTRL"})," + ",Object(S.jsx)("kbd",{children:"P"})]})})},U=new(n(81).LoremIpsum)({sentencesPerParagraph:{max:8,min:4},wordsPerSentence:{max:16,min:4}}),J=Array.from({length:50},(function(e,t){return{id:t,title:U.generateSentences(1),onSelect:function(){alert("You selected action #"+t)}}})),K=function(){var e=Object(c.useContext)(b),t=e.addAction,n=e.removeAction,r=e.show;return Object(c.useEffect)((function(){return J.forEach((function(e){return t(e)})),function(){J.forEach((function(e){return n(e)}))}}),[t,n]),Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("p",{children:Object(S.jsx)("button",{onClick:r,children:"Open the command palette"})})})},G=n(110);var V=function(){return Object(S.jsx)(G.a,{type:"crossfade",children:Object(S.jsx)(F,{InputProps:{placeholder:"What are you searching for?"},children:Object(S.jsxs)(R.a,{children:[Object(S.jsx)(B,{}),Object(S.jsx)("div",{className:"container",children:Object(S.jsxs)(L.c,{children:[Object(S.jsx)(L.a,{path:"/basic",element:Object(S.jsx)(D,{})}),Object(S.jsx)(L.a,{path:"/keyboard-shortcut",element:Object(S.jsx)(W,{})}),Object(S.jsx)(L.a,{path:"/a-lot-of-actions",element:Object(S.jsx)(K,{})})]})})]})})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,112)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),o(e),i(e)}))};i.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(V,{})}),document.getElementById("root")),Y()},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},94:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.13825903.chunk.js.map